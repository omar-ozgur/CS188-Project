<p id="notice"><%= notice %></p>

<h2><%= @post.description %></h2>
<hr>

<div class="row">
  <div class="col-md-10 code-snippit"><%= markdown(@post.snippit, @post.language) %></div>

  <div class=" col-md-2 post-show-info">
    <p>Posted by <a href="<%= profile_path(@post.user.id) %>"><%= @post.user.username %></a></p>
    <p>Last updated on <%= @post.updated_at.strftime("%B %d, %Y") %></p>

    <div class="post-show-action-btn">
      <a href="<%= edit_post_path(@post) %>">
        <button action="" type="button" class="btn btn-default btn-md">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
        </button>
      </a>
      <!-- TODO link delete action -->
      <!-- <%= link_to 'Delete', post_path(@post), method: :delete %> -->
      <a href="#">
        <button action="" type="button" class="btn btn btn-default btn-md">
          <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
        </button>
      </a>
    </div>
  </div>
</div>

<br>

<h3>Comments</h3>

<p>
  <% if @post.comments.present? %>
    <% @post.comments.each do |comment| %>
      <a href="<%= profile_path(comment.user.id) %>"><%= comment.user.username %></a> at <%= comment.updated_at.strftime("%B %d, %Y") %>:<br/>
      <%= comment.comment %><br/><br/>
    <% end %>
  <% else %>
    <p>There are currently no comments on this post.</p>
  <% end %>
</p>

<br>

<h3>Make new comment</h3>

<% if current_user %>
  <%= render 'comments/form', comment: Comment.new, user_id:current_user.id, post_id: @post.id %>
<% else %>
  <p>You must be logged in to comment</p>
<% end %>